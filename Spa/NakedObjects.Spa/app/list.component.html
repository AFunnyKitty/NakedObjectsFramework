<div *ngIf="collection" class="list">
    <div class="header">
        <div class="title">
            {{title}}
        </div>
        <div class="menu clickable-area" tabindex="0" (click)="collection.toggleActionMenu()" attr.disabled="collection.disableActions()" title={{collection.actionsTooltip()}}>
            Actions
        </div>
        <div class="action clickable-area" tabindex="0" (click)="collection.reload()">
            Reload
        </div>
        <div class="action clickable-area" tabindex="0" (click)="collection.pageFirst()" attr.disabled="collection.pageFirstDisabled()">
            First
        </div>
        <div class="action clickable-area" tabindex="0" (click)="collection.pagePrevious()"attr.disabled="collection.pagePreviousDisabled()">
            Previous
        </div>
        <div class="action clickable-area" tabindex="0" (click)="collection.pageNext()" attr.disabled="collection.pageNextDisabled()">
            Next
        </div>
        <div class="action clickable-area" tabindex="0" (click)="collection.pageLast()" attr.disabled="collection.pageLastDisabled()">
            Last
        </div>
        <div class="messages">{{collection.message}}</div>
    </div>
    <div class="details" *ngIf="collection.size == 0">{{collection.description()}}</div>
    <div *ngIf="collection.size > 0">
        <actions *ngIf="collection.showActions()" [menuVm]="collection"></actions>
        <div class="collection">
            <dialog></dialog>
            <div class="summary">
                <div class="details">{{collection.description()}}</div>
                <img class="icon-table clickable-area" (click)="collection.doTable()" src="images/table.png" title="View as Table" />
                <table>
                    <thead>
                        <tr>
                            <th *ngIf="!(collection.disableActions() || collection.items.length === 0)"><input type="checkbox" id="all" [(ngModel)]="collection.allSelected" (ngModelChange)="collection.selectAll()">All</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of collection.items">
                            <td class="checkbox" *ngIf="!collection.disableActions()">
                                <input type="checkbox" id="{{'item'+collection.onPaneId+'-'+ $index}}" [ngModel]="item.selected" ng-change="item.selectionChange($index)">
                            </td>
                            <td class="reference clickable-area" [ngClass]="item.color" gemini-enter="item.doClick()" (click)="item.doClick()" gemini-rightclick="item.doClick(true)" gemini-drag tabindex="0">
                                <label attr.for="{{'item'+collection.onPaneId+'-'+ $index}}">{{item.title}}</label>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
