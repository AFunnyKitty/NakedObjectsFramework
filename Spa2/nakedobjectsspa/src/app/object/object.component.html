<div *ngIf="expiredTransient" class="title">The requested view of unsaved object details has expired.</div>
<div [attr.id]="paneIdName()" *ngIf="object" [ngClass]="paneType">
    <div *ngIf="mode === 0" class="object view" [ngClass]="color">
        <header class="header">
            <div #ttl class="title" dnd-draggable [dragEnabled]="true" [dragData]="object" tabindex="0" (keydown)="cut($event)" (keypress)="cut($event)" >
                <span class="type">{{friendlyName}}</span> {{title()}}
            </div>
            <!--<div>{{object.isDirty() ? "*" : ""}} </div>-->
            <nof-buttons [buttons]="buttons"></nof-buttons>
            <div class="messages">{{message()}}</div>
        </header>
        <actions class="actions" *ngIf="showActions()" [menu]="object"></actions>
        <div class="main-column">
            <app-dialog [parent]="object"></app-dialog>
            <properties class="properties" *ngIf="properties" [properties]="properties"></properties>
        </div>
        <collections class="collections" *ngIf="collections" [collections]="collections"></collections>
    </div>
	<div *ngIf="(mode === 1 || mode === 2 || mode === 3)" class="object edit" [ngClass]="color">
		<form (ngSubmit)="onSubmit()" [formGroup]="form" autocomplete="off">
			<header class="header">
			    <div #ttl class="title"  dnd-draggable [dragEnabled]="true" [dragData]="object" tabindex="0"(keydown)="cut($event)" (keypress)="cut($event)" >
			        <span class="type">{{friendlyName}}</span> {{title()}}
			    </div>
                <nof-buttons [buttons]="buttons"></nof-buttons>
				<div class="messages">{{message()}}</div>
			</header>
			<div class="main-column">
				<properties *ngIf="properties" [properties]="properties" [parent]="object" [form]="form"></properties>
			</div>
		</form>
		<collections *ngIf="collections" [collections]="collections"></collections>
	</div>
	<div *ngIf="(mode === 4)" class="object view" [ngClass]="color">
		<header class="header">
			<div #ttl class="title" dnd-draggable [dragEnabled]="true" [dragData]="object" tabindex="0" (keydown)="cut($event)" (keypress)="cut($event)" >
				<span class="type">{{friendlyName}}</span> {{title()}}
			</div>
			<div class="messages">{{message()}}</div>
		</header>
		<div class="main-column">
			<properties class="properties" *ngIf="properties" [properties]="properties"></properties>
		</div>
		<collections class="collections" *ngIf="collections" [collections]="collections"></collections>
	</div>
</div>
<router-outlet (activate)="onChild()" (deactivate)="onChildless()"></router-outlet>